<h1><%= @event.title %></h1>
<div class="container">
  <div class="col-md-6">
    <div class="panel panel-default">
      <div class="panel-heading">About this event:</div>
      <div class="panel-body"> <%= @event.info %><br>
        Host: <%= @event.host_name %><br>
        Event starts: <%= DateTime.parse(@event.date_time).strftime("%d/%m/%Y at %R")%><br>
        Event ends: <%= DateTime.parse(@event.end_date_time).strftime("%d/%m/%Y at %R")%><br>
        <div id='latitude'><%= @event.latitude %></div>
        <div id='longitude'><%= @event.longitude %></div>
        <%= render partial: 'likes/form', locals: { likeable: @event } %>
      </div>
    </div>
  </div>

  <div class="col-md-6", id="map">
  <script>
    function initMap() {
      var latitude = Number(document.getElementById('latitude').innerHTML)
      var longitude = Number(document.getElementById('longitude').innerHTML)
      var user_event = {lat: latitude, lng: longitude};
      var map = new google.maps.Map(document.getElementById('map'), {
        zoom: 13,
        center: user_event
      });
      var marker = new google.maps.Marker({
        position: user_event,
        map: map
      });
    }
  </script>
  <script async defer
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBY3o7mGPlAyjeyr1L3pLBROlFd2v75hM8&callback=initMap">
  </script>
  </div>
</div>
<br>
<style>
  #map {
    height: 400px;
    width: 100%;
   }
</style>
